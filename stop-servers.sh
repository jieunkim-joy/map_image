#!/bin/bash

# í¬íŠ¸ 3000, 3001ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ìŠ¤í¬ë¦½íŠ¸

echo "ðŸ” í¬íŠ¸ 3000, 3001ì„ ì‚¬ìš©í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì°¾ëŠ” ì¤‘..."

# í¬íŠ¸ 3000 í”„ë¡œì„¸ìŠ¤ ì°¾ê¸° ë° ì¢…ë£Œ
PORT3000=$(lsof -ti:3000 2>/dev/null)
if [ ! -z "$PORT3000" ]; then
    echo "í¬íŠ¸ 3000 ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤: $PORT3000"
    kill -9 $PORT3000 2>/dev/null
    echo "âœ… í¬íŠ¸ 3000 í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì™„ë£Œ"
else
    echo "âœ… í¬íŠ¸ 3000ì€ ì´ë¯¸ ë¹„ì–´ìžˆìŠµë‹ˆë‹¤"
fi

# í¬íŠ¸ 3001 í”„ë¡œì„¸ìŠ¤ ì°¾ê¸° ë° ì¢…ë£Œ
PORT3001=$(lsof -ti:3001 2>/dev/null)
if [ ! -z "$PORT3001" ]; then
    echo "í¬íŠ¸ 3001 ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤: $PORT3001"
    kill -9 $PORT3001 2>/dev/null
    echo "âœ… í¬íŠ¸ 3001 í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì™„ë£Œ"
else
    echo "âœ… í¬íŠ¸ 3001ì€ ì´ë¯¸ ë¹„ì–´ìžˆìŠµë‹ˆë‹¤"
fi

# ëª¨ë“  vite í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (ì„ íƒì‚¬í•­)
read -p "ëª¨ë“  vite í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/n) " -n 1 -r
echo
if [[ $REPLY =~ ^[Yy]$ ]]; then
    pkill -f vite 2>/dev/null
    echo "âœ… ëª¨ë“  vite í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ ì™„ë£Œ"
fi

echo "ðŸŽ‰ ìž‘ì—… ì™„ë£Œ!"

